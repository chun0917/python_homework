# homework_2
## 程式流程及作法(爬山演算法)
1.撰寫DatasetReader類別，利用open().read()來讀取dataset。

2.撰寫主程式，利用爬山演算法來解0-1背包問題
```
(1)將背包內的物品隨機排列來產生隨機解
(2)利用此排列的index值取出dataset相對應的重量及利潤
(3)若總重量未超過背包的容量則繼續將取出元素重量及利潤加總
```
3.撰寫ExecutionLogger類別來執行主程式，我預設了利潤初始值為1440(這樣產生的圖表才能看到Y軸更詳細的變化)，並迭代500次主程式，當程式執行後的最佳利潤大於利潤初始值會取代此利潤值，並將結果利用matplotlib繪製成圖表
![](https://i.imgur.com/34EWxhK.png)

## 程式流程及作法(模擬退火演算法)
1.撰寫DatasetReader類別，利用open().read()來讀取dataset。

2.撰寫主程式，利用模擬退火演算法來解0-1背包問題
```
(1)預設背包為裝滿狀態
(2)設定當前溫度、降溫係數等參數
-------以下迭代500次-------
(3)挑選背包內的隨機一個位置進行更動(value 0 <-> 1)
(4)計算背包的當前利潤(若重量大於背包容量，利潤就是0)
(5)如果背包的當前利潤大於先前利潤就更新背包
(6)如果當前利潤小於先前利潤則進行退火(當前利潤 - 先前利潤 / 當前溫度)，透過numpy計算出允許機率
(7)隨機值r小於允許機率就進行更新(跳脫區域最佳利潤)
(8)迭代一次就進行降溫的動作(當前溫度*降溫係數 並更新當前溫度)
--------------------------
(9)將迭代500次的結果繪製成圖表並取得收斂值(最佳解)
```
3.撰寫ExecutionLogger類別來執行主程式
### 優化
在優化過程中，我發現我未先宣告退火的允許機率及隨機值，可能導致程式出錯，已修改此問題。且在迭代的過程中，會遇到收斂值為0的情況，那是因為我設定當背包所裝的物品重量總和大於背包容量時，最佳利潤為0。我在初始化物件時新增了一個變數best_profi，並在每次迭代結束後都將其回傳，若遇到背包所裝的物品重量總和大於背包容量的狀況，則回傳p值等於當前的best_profit值，如此即可解決收斂值為0的情況。但在具體化物件時，我將best_profit參數值設為0，因此前幾次迭代仍可能出現收斂值為0的情況。
#### 優化前
![image](https://user-images.githubusercontent.com/65705058/211793524-2aef1467-81cc-4aa5-aba5-dbebdf5a839b.png)
#### 優化後
![image](https://user-images.githubusercontent.com/65705058/215260725-6d8d319a-28d2-43de-a95e-320f9c9a9122.png)

## 心得
在大學修的演算法課程並沒有像這樣透過實際撰寫程式來解決問題，因此實際碰到這種狀況覺得蠻新奇的，需要花費很多腦力來思考要怎麼樣才能用程式來完成這項工作，也去複習了一下爬山演算法的概念。但模擬退火演算法我想了很久才想通要如何用程式來撰寫並解決0-1背包問題，看來還有好長的一段路需要努力！

## 參考網站
[五分鐘了解爬山演算法 - Medium](https://tzuchieh0931.medium.com/hc-metaheuristic-02-a071980b37e6)

[五分鐘了解模擬退火演算法(SA) | Medium](https://tzuchieh0931.medium.com/sa-metaheuristic-03-2632b2047d1f)
